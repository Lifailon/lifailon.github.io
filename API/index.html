
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Lifailon">
      
      
        <link rel="canonical" href="https://lifailon.github.io/API/">
      
      
        <link rel="prev" href="../DevOps/">
      
      
        <link rel="next" href="../Zabbix/">
      
      
      <link rel="icon" href="../Logo/PowerShell-Logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.20">
    
    
      
        <title>API - PowerShell Commands</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CInter:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Inter"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/highlight/obsidian.min.css">
    
      <link rel="stylesheet" href="../assets/custom/headers.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#property" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PowerShell Commands" class="md-header__button md-logo" aria-label="PowerShell Commands" data-md-component="logo">
      
  <img src="../Logo/PowerShell-Logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PowerShell Commands
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Lifailon/PS-Commands" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PowerShell Commands" class="md-nav__button md-logo" aria-label="PowerShell Commands" data-md-component="logo">
      
  <img src="../Logo/PowerShell-Logo.png" alt="logo">

    </a>
    PowerShell Commands
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Lifailon/PS-Commands" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Syntax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syntax
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FileSystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File System
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Threads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Threads
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dotNET/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    .NET
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../COM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    COM
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ServerManager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Manager
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ActiveDirectory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Active Directory
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Exchange/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microsoft Exchange
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Virtualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtualization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../MarkupLanguages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markup Languages
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../DevOps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#property" class="md-nav__link">
    <span class="md-ellipsis">
      Property
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-image" class="md-nav__link">
    <span class="md-ellipsis">
      Download Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pode" class="md-nav__link">
    <span class="md-ellipsis">
      Pode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telegram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#button" class="md-nav__link">
    <span class="md-ellipsis">
      Button
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-totelegramfile" class="md-nav__link">
    <span class="md-ellipsis">
      Send-ToTelegramFile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discord" class="md-nav__link">
    <span class="md-ellipsis">
      Discord
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discord">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#send-to-discord" class="md-nav__link">
    <span class="md-ellipsis">
      Send to Discord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-from-discord" class="md-nav__link">
    <span class="md-ellipsis">
      Read from Discord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpclient" class="md-nav__link">
    <span class="md-ellipsis">
      HttpClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#button_1" class="md-nav__link">
    <span class="md-ellipsis">
      Button
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discordnetwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      Discord.Net.Webhook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discordnetwebsocket" class="md-nav__link">
    <span class="md-ellipsis">
      Discord.Net.WebSocket
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gigachat" class="md-nav__link">
    <span class="md-ellipsis">
      GigaChat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GigaChat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      Curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Установка сертификатов в Ubuntu:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Получение токена:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Составление запроса:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yandexgpt" class="md-nav__link">
    <span class="md-ellipsis">
      YandexGPT
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YandexGPT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oauth-token" class="md-nav__link">
    <span class="md-ellipsis">
      Получить OAuth-Token:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-token-iam-token" class="md-nav__link">
    <span class="md-ellipsis">
      Обменять OAuth-Token на IAM-Token:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#folder_id" class="md-nav__link">
    <span class="md-ellipsis">
      Получить FOLDER_ID:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Составление запроса:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superagi" class="md-nav__link">
    <span class="md-ellipsis">
      SuperAGI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replicate" class="md-nav__link">
    <span class="md-ellipsis">
      Replicate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Filter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-api" class="md-nav__link">
    <span class="md-ellipsis">
      Google-API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google-API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#google-translate" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Translate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-search" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Search
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidapi" class="md-nav__link">
    <span class="md-ellipsis">
      RapidAPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RapidAPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#imdb" class="md-nav__link">
    <span class="md-ellipsis">
      IMDb
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moviesdatabase" class="md-nav__link">
    <span class="md-ellipsis">
      MoviesDatabase
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tmdb" class="md-nav__link">
    <span class="md-ellipsis">
      TMDB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#omdb" class="md-nav__link">
    <span class="md-ellipsis">
      OMDb
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ivi" class="md-nav__link">
    <span class="md-ellipsis">
      ivi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kinopoisk" class="md-nav__link">
    <span class="md-ellipsis">
      Kinopoisk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kinopoisk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kinopoiskdev" class="md-nav__link">
    <span class="md-ellipsis">
      kinopoisk.dev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlcode" class="md-nav__link">
    <span class="md-ellipsis">
      UrlCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kinopoiskapiunofficial" class="md-nav__link">
    <span class="md-ellipsis">
      KinopoiskApiUnofficial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kinobox" class="md-nav__link">
    <span class="md-ellipsis">
      Kinobox
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#videocdn" class="md-nav__link">
    <span class="md-ellipsis">
      VideoCDN
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#torrent" class="md-nav__link">
    <span class="md-ellipsis">
      Torrent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Torrent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jackett" class="md-nav__link">
    <span class="md-ellipsis">
      Jackett
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torrent-api-py" class="md-nav__link">
    <span class="md-ellipsis">
      Torrent-API-py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plex" class="md-nav__link">
    <span class="md-ellipsis">
      Plex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jellyfin" class="md-nav__link">
    <span class="md-ellipsis">
      Jellyfin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Zabbix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zabbix
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SCM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SCM
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Ansible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    🐳 Docker
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    🐧 Linux
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#property" class="md-nav__link">
    <span class="md-ellipsis">
      Property
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-image" class="md-nav__link">
    <span class="md-ellipsis">
      Download Image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pode" class="md-nav__link">
    <span class="md-ellipsis">
      Pode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telegram">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#button" class="md-nav__link">
    <span class="md-ellipsis">
      Button
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-totelegramfile" class="md-nav__link">
    <span class="md-ellipsis">
      Send-ToTelegramFile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discord" class="md-nav__link">
    <span class="md-ellipsis">
      Discord
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discord">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#send-to-discord" class="md-nav__link">
    <span class="md-ellipsis">
      Send to Discord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-from-discord" class="md-nav__link">
    <span class="md-ellipsis">
      Read from Discord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpclient" class="md-nav__link">
    <span class="md-ellipsis">
      HttpClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#button_1" class="md-nav__link">
    <span class="md-ellipsis">
      Button
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discordnetwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      Discord.Net.Webhook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discordnetwebsocket" class="md-nav__link">
    <span class="md-ellipsis">
      Discord.Net.WebSocket
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gigachat" class="md-nav__link">
    <span class="md-ellipsis">
      GigaChat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GigaChat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      Curl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Установка сертификатов в Ubuntu:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Получение токена:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Составление запроса:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yandexgpt" class="md-nav__link">
    <span class="md-ellipsis">
      YandexGPT
    </span>
  </a>
  
    <nav class="md-nav" aria-label="YandexGPT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oauth-token" class="md-nav__link">
    <span class="md-ellipsis">
      Получить OAuth-Token:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-token-iam-token" class="md-nav__link">
    <span class="md-ellipsis">
      Обменять OAuth-Token на IAM-Token:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#folder_id" class="md-nav__link">
    <span class="md-ellipsis">
      Получить FOLDER_ID:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Составление запроса:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superagi" class="md-nav__link">
    <span class="md-ellipsis">
      SuperAGI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replicate" class="md-nav__link">
    <span class="md-ellipsis">
      Replicate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Filter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-api" class="md-nav__link">
    <span class="md-ellipsis">
      Google-API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google-API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#google-translate" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Translate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-search" class="md-nav__link">
    <span class="md-ellipsis">
      Google-Search
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidapi" class="md-nav__link">
    <span class="md-ellipsis">
      RapidAPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RapidAPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#imdb" class="md-nav__link">
    <span class="md-ellipsis">
      IMDb
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moviesdatabase" class="md-nav__link">
    <span class="md-ellipsis">
      MoviesDatabase
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tmdb" class="md-nav__link">
    <span class="md-ellipsis">
      TMDB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#omdb" class="md-nav__link">
    <span class="md-ellipsis">
      OMDb
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ivi" class="md-nav__link">
    <span class="md-ellipsis">
      ivi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kinopoisk" class="md-nav__link">
    <span class="md-ellipsis">
      Kinopoisk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kinopoisk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kinopoiskdev" class="md-nav__link">
    <span class="md-ellipsis">
      kinopoisk.dev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlcode" class="md-nav__link">
    <span class="md-ellipsis">
      UrlCode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kinopoiskapiunofficial" class="md-nav__link">
    <span class="md-ellipsis">
      KinopoiskApiUnofficial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kinobox" class="md-nav__link">
    <span class="md-ellipsis">
      Kinobox
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#videocdn" class="md-nav__link">
    <span class="md-ellipsis">
      VideoCDN
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#torrent" class="md-nav__link">
    <span class="md-ellipsis">
      Torrent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Torrent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jackett" class="md-nav__link">
    <span class="md-ellipsis">
      Jackett
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torrent-api-py" class="md-nav__link">
    <span class="md-ellipsis">
      Torrent-API-py
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plex" class="md-nav__link">
    <span class="md-ellipsis">
      Plex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jellyfin" class="md-nav__link">
    <span class="md-ellipsis">
      Jellyfin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>API</h1>

<h3 id="property">Property</h3>
<p><code>$url = "https://habr.com/ru/rss/users/Lifailon/publications/articles/?fl=ru"</code> RSS лента публикаций на Habr <br />
<code>Invoke-RestMethod $url</code> <br />
<code>$iwr = Invoke-WebRequest -Uri $url</code> <br />
<code>$iwr | Get-Member</code> <br />
<code>$iwr.Content</code> <br />
<code>$iwr.StatusCode -eq 200</code> <br />
<code>$iwr.Headers</code> <br />
<code>$iwr.ParsedHtml | Select lastModified</code> <br />
<code>$iwr.Links | fl title,innerText,href</code> <br />
<code>$iwr.Images.src</code></p>
<h3 id="methods">Methods</h3>
<p><strong>GET</strong> - Read <br />
<strong>POST</strong> - Create <br />
<strong>PATCH</strong> - Partial update/modify <br />
<strong>PUT</strong> - Update/replace <br />
<strong>DELETE</strong> - Remove</p>
<h3 id="download-image">Download Image</h3>
<pre><code class="language-PowerShell">function Download-Image {
param (
    [Parameter(Mandatory = $True)]$url
)
    $folder = $url -replace &quot;http.+://&quot; -replace &quot;/&quot;,&quot;-&quot; -replace &quot;-$&quot;
    $path = &quot;$home\Pictures\$folder&quot;
    if (Test-Path $path) {
        Remove-Item $path -Recurse -Force
        New-Item -ItemType Directory $path &gt; $null
    } else {
        New-Item -ItemType Directory $path &gt; $null
    }
    $irm = Invoke-WebRequest -Uri $url
    foreach ($img in $irm.Images.src) {
        $name = $img -replace &quot;.+/&quot;
        Start-Job {
            Invoke-WebRequest $using:img -OutFile &quot;$using:path\$using:name&quot;
        } &gt; $null
    }
    while ($True){
        $status_job = (Get-Job).State[-1]
        if ($status_job -like &quot;Completed&quot;){
        Get-Job | Remove-Job -Force
        break
    }}
    $count_all = $irm.Images.src.Count
    $count_down = (Get-Item $path\*).count
    &quot;Downloaded $count_down of $count_all files to $path&quot;
}
</code></pre>
<p><code>Download-Image -url https://losst.pro/</code></p>
<h3 id="token">Token</h3>
<pre><code class="language-PowerShell">https://veeam-11:9419/swagger/ui/index.html
$Header = @{
    &quot;x-api-version&quot; = &quot;1.0-rev2&quot;
}
$Body = @{
    &quot;grant_type&quot; = &quot;password&quot;
    &quot;username&quot; = &quot;$login&quot;
    &quot;password&quot; = &quot;$password&quot;
}
$vpost = iwr &quot;https://veeam-11:9419/api/oauth2/token&quot; -Method POST -Headers $Header -Body $Body -SkipCertificateCheck
$vtoken = (($vpost.Content) -split '&quot;')[3]
</code></pre>
<h3 id="get">GET</h3>
<pre><code class="language-PowerShell">$token = $vtoken | ConvertTo-SecureString -AsPlainText –Force
$vjob = iwr &quot;https://veeam-11:9419/api/v1/jobs&quot; -Method GET -Headers $Header -Authentication Bearer -Token $token -SkipCertificateCheck

$Header = @{
    &quot;x-api-version&quot; = &quot;1.0-rev1&quot;
    &quot;Authorization&quot; = &quot;Bearer $vtoken&quot;
}
$vjob = iwr &quot;https://veeam-11:9419/api/v1/jobs&quot; -Method GET -Headers $Header -SkipCertificateCheck
$vjob = $vjob.Content | ConvertFrom-Json

$vjob = Invoke-RestMethod &quot;https://veeam-11:9419/api/v1/jobs&quot; -Method GET -Headers $Header -SkipCertificateCheck
$vjob.data.virtualMachines.includes.inventoryObject
</code></pre>
<h3 id="cookie">Cookie</h3>
<p>Получить hash торрент файла на сайте Кинозал</p>
<pre><code class="language-PowerShell">function Get-KinozalTorrentHash {
    param (
        [Parameter(Mandatory = $True)][string]$id,
        [Parameter(Mandatory = $True)][string]$cookies
    )
    $url = &quot;https://kinozal.tv/get_srv_details.php?id=$($id)&amp;action=2&quot;
    $cookies = &quot;uid=...+&quot;
    $headers = @{
        &quot;User-Agent&quot; = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36&quot;
        &quot;Cookie&quot; = $cookies
    }
    $result = Invoke-RestMethod -Uri $url -Headers $headers -Method Get
    $result -match &quot;Инфо хеш: (.+)&lt;/li&gt;&lt;li&gt;Размер&quot; | Out-Null
    return $Matches[1]
}
</code></pre>
<p><code>$id = 1656552</code> <br />
<code>$cookies = "uid=..."</code> получить cookie в браузере на вкладке сеть из загловка запросов после авторизации на сайте <br />
<code>Get-KinozalTorrentHash $id $cookies</code></p>
<h2 id="pode">Pode</h2>
<pre><code class="language-PowerShell">Start-PodeServer {
    Add-PodeEndpoint -Address localhost -Port &quot;8080&quot; -Protocol &quot;HTTP&quot;
    ## Get info endpoints
    Add-PodeRoute -Path &quot;/&quot; -Method &quot;GET&quot; -ScriptBlock {
        Write-PodeJsonResponse -Value @{
        &quot;service&quot;=&quot;/api/service&quot;;
        &quot;process&quot;=&quot;/api/process&quot;
        }
    }
    ## GET
    Add-PodeRoute -Path &quot;/api/service&quot; -Method &quot;GET&quot; -ScriptBlock {
        Write-PodeJsonResponse -Value $(
            Get-Service | Select-Object Name,@{
                Name=&quot;Status&quot;; Expression={[string]$_.Status}
            },@{
                Name=&quot;StartType&quot;; Expression={[string]$_.StartType}
            } | ConvertTo-Json
        )
    }
    Add-PodeRoute -Path &quot;/api/process&quot; -Method &quot;GET&quot; -ScriptBlock {
        Write-PodeJsonResponse -Value $(
            Get-Process | Sort-Object -Descending CPU | Select-Object -First 15 ProcessName,
            @{Name=&quot;ProcessorTime&quot;; Expression={$_.TotalProcessorTime -replace &quot;\.\d+$&quot;}},
            @{Name=&quot;Memory&quot;; Expression={[string]([int]($_.WS / 1024kb))+&quot;MB&quot;}},
            @{Label=&quot;RunTime&quot;; Expression={((Get-Date) - $_.StartTime) -replace &quot;\.\d+$&quot;}}
        )
    }
    Add-PodeRoute -Path &quot;/api/process-html&quot; -Method &quot;GET&quot; -ScriptBlock {
        Write-PodeHtmlResponse -Value (
            Get-Process | Sort-Object -Descending CPU | Select-Object -First 15 ProcessName,
            @{Name=&quot;ProcessorTime&quot;; Expression={$_.TotalProcessorTime -replace &quot;\.\d+$&quot;}},
            @{Name=&quot;Memory&quot;; Expression={[string]([int]($_.WS / 1024kb))+&quot;MB&quot;}},
            @{Label=&quot;RunTime&quot;; Expression={((Get-Date) - $_.StartTime) -replace &quot;\.\d+$&quot;}} # Auto ConvertTo-Html
        )
    }
    ## POST
    Add-PodeRoute -Path &quot;/api/service&quot; -Method &quot;POST&quot; -ScriptBlock {
        # https://pode.readthedocs.io/en/latest/Tutorials/WebEvent/
        # $WebEvent | Out-Default
        $Value = $WebEvent.Data[&quot;ServiceName&quot;]
        $Status = (Get-Service -Name $Value).Status
        Write-PodeJsonResponse -Value @{
            &quot;Name&quot;=&quot;$Value&quot;;
            &quot;Status&quot;=&quot;$Status&quot;;
        }
    }
}
</code></pre>
<p><code>irm http://localhost:8080/api/service -Method Get</code> <br />
<code>irm http://localhost:8080/api/process -Method Get</code> <br />
<code>http://localhost:8080/api/process-html</code> использовать браузер <br />
<code>irm http://localhost:8080/api/service -Method Post -Body @{"ServiceName" = "AnyDesk"}</code></p>
<h2 id="telegram">Telegram</h2>
<p>@BotFather (https://t.me/BotFather) /newbot</p>
<p>Format: <code>https://api.telegram.org/bot&lt;token&gt;/&lt;endpoint&gt;</code></p>
<p><a href="https://core.telegram.org/bots/api#getupdates">getupdates</a></p>
<pre><code class="language-PowerShell">function Get-FromTelegram {
    param (
        $Token = &quot;687...:AAF...&quot;,
        [switch]$Date,
        [switch]$Last,
        [switch]$ChatID
    )
    $endpoint = &quot;getUpdates&quot;
    $url      = &quot;https://api.telegram.org/bot$Token/$endpoint&quot;
    $result   = Invoke-RestMethod -Uri $url
    if ($Date) {
        $Collections = New-Object System.Collections.Generic.List[System.Object]
        foreach ($r in $($result.result)) {
            $EpochTime = [DateTime]&quot;1/1/1970&quot;
            $TimeZone = Get-TimeZone
            $UTCTime = $EpochTime.AddSeconds($r.message.date)
            $d = $UTCTime.AddMinutes($TimeZone.BaseUtcOffset.TotalMinutes)
            $Collections.Add([PSCustomObject]@{
                Message = $r.message.text;
                Date    = $d
            })
        }
        $Collections
    }
    else {
        if ($Last) {
            $result.result.message.text[-1]
        }
        elseif ($ChatID) {
            $Collections = New-Object System.Collections.Generic.List[System.Object]
            foreach ($r in $($result.result)) {
                $Collections.Add([PSCustomObject]@{
                    Message = $r.message.text;
                    UserName = $r.message.chat.username;
                    ChatID = $r.message.chat.id;
                    ChatType = $r.message.chat.type
                })
            }
            $Collections
        }
        else {
            $result.result.message.text
        }
    }
}
</code></pre>
<p><code>Get-FromTelegram</code> <br />
<code>Get-FromTelegram -Last</code> <br />
<code>Get-FromTelegram -Date</code> <br />
<code>Get-FromTelegram -ChatID</code></p>
<p><a href="https://core.telegram.org/bots/api#sendmessage">sendmessage</a></p>
<pre><code class="language-PowerShell">function Send-ToTelegram {
param (
    [Parameter(Mandatory = $True)]$Text,
    $Token    = &quot;687...:AAF...&quot;,
    $Chat     = &quot;125468108&quot;,
    $Keyboard
)
    $endpoint = &quot;sendMessage&quot;
    $url      = &quot;https://api.telegram.org/bot$Token/$endpoint&quot;
    $Body = @{
        chat_id = $Chat
        text    = $Text
    }
    if ($keyboard -ne $null) {
        $Body += @{reply_markup = $keyboard}
    }
    Invoke-RestMethod -Uri $url -Body $Body
}
</code></pre>
<p><code>Send-ToTelegram -Text "Send test from powershell"</code></p>
<pre><code class="language-PowerShell">$LastDate = (Get-FromTelegram -date)[-1].Date
while ($true) {
    $LastMessage  = (Get-FromTelegram -date)[-1]
    Start-Sleep 1
    $LastDateTest = $LastMessage.Date
    if (($LastMessage.Message -match &quot;/Service&quot;) -and ($LastDate -ne $LastDateTest)) {
        $ServiceName = $($LastMessage.Message -split &quot; &quot;)[-1]
        $Result = $(Get-Service $ServiceName -ErrorAction Ignore).Status
        if ($Result) {
            Send-ToTelegram -Text $Result
        } else {
            Send-ToTelegram -Text &quot;Service not found&quot;
        }
        $LastDate = $LastDateTest
    }
}
</code></pre>
<p><code>/Service vpnagent</code> <br />
<code>/Service WinRM</code> <br />
<code>/Service test</code></p>
<h3 id="button">Button</h3>
<pre><code class="language-PowerShell">$keyboard = '{
    &quot;inline_keyboard&quot;:[[
        {&quot;text&quot;:&quot;Uptime&quot;,&quot;callback_data&quot;:&quot;/Uptime&quot;},
        {&quot;text&quot;:&quot;Test&quot;,&quot;callback_data&quot;:&quot;/Test&quot;}
    ]]
}'
Send-ToTelegram -Text &quot;Test buttons&quot; -Keyboard $keyboard
$request = (Invoke-RestMethod -Uri &quot;https://api.telegram.org/bot$Token/getUpdates&quot;).result.callback_query
$request.data # прочитать callback_data нажатой кнопки
$request.message.date
</code></pre>
<h3 id="send-totelegramfile">Send-ToTelegramFile</h3>
<p>https://core.telegram.org/bots/api#senddocument</p>
<pre><code class="language-PowerShell">function Send-ToTelegramFile {
    param (
        [Parameter(Mandatory = $true)][string]$Path,
        [Parameter(Mandatory = $true)][string]$Token,
        [Parameter(Mandatory = $true)][string]$Chat,
        $Keyboard
    )
    $endpoint = &quot;senddocument&quot;
    $url      = &quot;https://api.telegram.org/bot$Token/$endpoint&quot;
    $multipartContent = [System.Net.Http.MultipartFormDataContent]::new()
    $fileStream = [System.IO.FileStream]::new($Path, [System.IO.FileMode]::Open)
    $fileContent = [System.Net.Http.StreamContent]::new($fileStream)
    $fileHeader = [System.Net.Http.Headers.ContentDispositionHeaderValue]::new(&quot;form-data&quot;)
    $fileHeader.Name = &quot;document&quot;
    $fileHeader.FileName = [System.IO.Path]::GetFileName($Path)
    $fileContent.Headers.ContentDisposition = $fileHeader
    $multipartContent.Add($fileContent, &quot;document&quot;)
    if ($Keyboard) {
        $keyboardContent = [System.Net.Http.StringContent]::new($Keyboard)
        $keyboardContent.Headers.ContentType.MediaType = &quot;application/json&quot;
        $multipartContent.Add($keyboardContent, &quot;reply_markup&quot;)
    }
    $chatContent = [System.Net.Http.StringContent]::new($Chat)
    $multipartContent.Add($chatContent, &quot;chat_id&quot;)
    $response = Invoke-RestMethod -Uri $url -Method Post -Body $multipartContent -ContentType &quot;multipart/form-data&quot;
    $fileStream.Dispose()
    return $response
}
</code></pre>
<p><code>Send-ToTelegramFile -Path "C:\Users\Lifailon\Documents\lake.jpg" -Token "7777777777:AAF..." -Chat "7777777777"</code></p>
<h2 id="discord">Discord</h2>
<p><a href="https://discord.com/developers/applications">Developers</a></p>
<p>Создаем Applications (General Information). В Bot привязываем к Application и копируем токен авторизации. В OAuth2 - URL Generator выбираем bot и права Administrator и копируем созданный URL для добавления на канал. Переходим по url и добавляем бота на сервер. Получаем ID канала на сервере (текстовые каналы, правой кнопкой мыши копируем ссылку и забираем последний id в url).</p>
<h3 id="send-to-discord">Send to Discord</h3>
<pre><code class="language-Bash">DISCORD_TOKEN=&quot;MTE5NzE1NjM0NTM3NjQxMTcyOQ.XXXXXX.EzBF6RA9Kx_MSuhLW5elH1U-XXXXXXXXXXXXXX&quot;
DISCORD_CHANNEL_ID=&quot;119403124XXXXXXXXXX&quot;
TEXT=&quot;test from bash&quot;
URL=&quot;https://discordapp.com/api/channels/$DISCORD_CHANNEL_ID/messages&quot;
curl -s -X POST $URL 
  -H &quot;Authorization: Bot $DISCORD_TOKEN&quot; 
  -H &quot;Content-Type: application/json&quot; 
  -d &quot;{\&quot;content\&quot;: \&quot;$TEXT\&quot;}&quot;
</code></pre>
<pre><code class="language-PowerShell">$DISCORD_TOKEN = &quot;MTE5NzE1NjM0NTM3NjQxMTcyOQ.XXXXXX.EzBF6RA9Kx_MSuhLW5elH1U-XXXXXXXXXXXXXX&quot;
$DISCORD_CHANNEL_ID = &quot;119403124XXXXXXXXXX&quot;
$TEXT = &quot;test from PowerShell&quot;
$URL = &quot;https://discordapp.com/api/channels/$DISCORD_CHANNEL_ID/messages&quot;
$Body = @{
    content = $TEXT
} | ConvertTo-Json
curl -s $URL -X POST -H &quot;Authorization: Bot $DISCORD_TOKEN&quot; -H &quot;Content-Type: application/json&quot; -d $Body
</code></pre>
<h3 id="read-from-discord">Read from Discord</h3>
<pre><code class="language-Bash">curl -s -X GET $URL 
  -H &quot;Authorization: Bot $DISCORD_TOKEN&quot; 
  -H &quot;Content-Type: application/json&quot; | jq -r .[0].content
</code></pre>
<pre><code class="language-PowerShell">$messages = (curl -s -X GET $URL -H &quot;Authorization: Bot $DISCORD_TOKEN&quot; -H &quot;Content-Type: application/json&quot; | ConvertFrom-Json)
$messages | Select-Object content,timestamp,{$_.author.username}
</code></pre>
<h3 id="httpclient">HttpClient</h3>
<pre><code class="language-PowerShell">$DISCORD_TOKEN = &quot;MTE5NzE1NjM0NTM3NjQxMTcyOQ.XXXXXX.EzBF6RA9Kx_MSuhLW5elH1U-XXXXXXXXXXXXXX&quot;
$DISCORD_CHANNEL_ID = &quot;119403124XXXXXXXXXX&quot;
$URL = &quot;https://discordapp.com/api/channels/$DISCORD_CHANNEL_ID/messages&quot;
$HttpClient = New-Object System.Net.Http.HttpClient
$HttpClient.DefaultRequestHeaders.Authorization = &quot;Bot $DISCORD_TOKEN&quot;
$response = $HttpClient.GetAsync($URL).Result
$messages = $response.Content.ReadAsStringAsync().Result
($messages | ConvertFrom-Json).content
</code></pre>
<h3 id="button_1">Button</h3>
<pre><code class="language-Bash">curl -X POST $URL 
  -H &quot;Content-Type: application/json&quot; 
  -H &quot;Authorization: Bot $DISCORD_TOKEN&quot; 
  -d '
  {
    &quot;content&quot;: &quot;Test text for button&quot;,
    &quot;components&quot;: [
      {
        &quot;type&quot;: 1,
        &quot;components&quot;: [
          {
            &quot;type&quot;: 2,
            &quot;label&quot;: &quot;Button&quot;,
            &quot;style&quot;: 1,
            &quot;custom_id&quot;: &quot;button_click&quot;
          }
        ]
      }
    ]
  }'
</code></pre>
<h3 id="discordnetwebhook">Discord.Net.Webhook</h3>
<pre><code class="language-PowerShell">Add-Type -Path $(ls &quot;$home\Documents\Discord.NET\*.dll&quot;).FullName
## https://discordapp.com/api/webhooks/&lt;webhook_id&gt;/&lt;webhook_token&gt; (Настроить канал - Интеграция)
$webhookId = 1197577280000000000
$webhookToken = &quot;rs8AA-XXXXXXXXXXX_Vk5RUI4A6HuSGhpCCTepq25duwCwLXasfv6u23a7XXXXXXXXXX&quot;
$messageContent = &quot;Test dotNET&quot;
$client = New-Object Discord.Webhook.DiscordWebhookClient($webhookId, $webhookToken)
$client.SendMessageAsync($messageContent).Wait()
</code></pre>
<h3 id="discordnetwebsocket">Discord.Net.WebSocket</h3>
<pre><code class="language-PowerShell">$DiscordAssemblies = $(ls &quot;$home\Documents\Discord.NET\*.dll&quot;).FullName
foreach ($assembly in $DiscordAssemblies) {
    Add-Type -Path $assembly
}
$DISCORD_TOKEN = &quot;MTE5NzE1NjM0NTM3NjQxMTcyOQ.XXXXXX.EzBF6RA9Kx_MSuhLW5elH1U-XXXXXXXXXXXXXX&quot;
$Client = New-Object Discord.WebSocket.DiscordSocketClient
$Client.Add_MessageReceived({
    param($message)
    if ($message.Author.Id -ne $Client.CurrentUser.Id) {
        Write-Host (&quot;Received message from &quot; + $message.Author.Username + &quot;: &quot; + $message.Content)
        if ($message.Content.Contains(&quot;ping&quot;)) {
            $message.Channel.SendMessageAsync(&quot;pong&quot;).GetAwaiter().GetResult()
        }
    }
})
$Client.LoginAsync([Discord.TokenType]::Bot, $DISCORD_TOKEN).GetAwaiter().GetResult()
#$Client.StartAsync().Wait()
$Client.StartAsync().GetAwaiter().GetResult()
$Client.ConnectionState

[console]::ReadKey($true)
$Client.LogoutAsync().GetAwaiter().GetResult()
$Client.Dispose()
</code></pre>
<h2 id="gigachat">GigaChat</h2>
<p><a href="https://developers.sber.ru/gigachat/login">Developers chat</a></p>
<ul>
<li>
<ol>
<li>Установка сертификатов:</li>
</ol>
</li>
</ul>
<p><code>Invoke-WebRequest "https://gu-st.ru/content/lending/russian_trusted_root_ca_pem.crt" -OutFile "$home\Downloads\russian_trusted_root_ca.cer"</code> скачать сертификат минцифры <br />
<code>Invoke-WebRequest "https://gu-st.ru/content/lending/russian_trusted_sub_ca_pem.crt" -OutFile "$home\Downloads\russian_trusted_sub_ca.cer"</code> <br />
<code>Import-Certificate -FilePath "$home\Downloads\russian_trusted_root_ca.cer" -CertStoreLocation "Cert:\CurrentUser\Root"</code> установить сертификат минцифры <br />
<code>Import-Certificate -FilePath "$home\Downloads\russian_trusted_sub_ca.cer" -CertStoreLocation "Cert:\CurrentUser\CA"</code></p>
<ul>
<li>
<ol>
<li>Авторизация по Sber ID и генерация новых авторизационных данных для получения токена: <a href="https://developers.sber.ru/studio">Developers</a> (время жизни 30 минут)</li>
</ol>
</li>
<li>
<ol>
<li>Формирование авторизационных данных в формате Base64 из Client ID и Client Secret:</li>
</ol>
</li>
</ul>
<pre><code class="language-PowerShell">$Client_ID     = &quot;7e6d2f9f-825e-49b7-98f4-62fbb7506427&quot; # [System.Guid]::Parse(&quot;7e6d2f9f-825e-49b7-98f4-62fbb7506427&quot;)
$Client_Secret = &quot;c35113ee-6757-47ba-9853-ea1d0d9db1ef&quot; # [System.Guid]::Parse(&quot;c35113ee-6757-47ba-9853-ea1d0d9db1ef&quot;)
$Client_Join   = $Client_ID+&quot;:&quot;+$Client_Secret # объединяем два UUID в одну строку, разделяя их символом ':'
$Bytes         = [System.Text.Encoding]::UTF8.GetBytes($Client_Join) # преобразуем строку в массив байт
$Cred_Base64   = [Convert]::ToBase64String($Bytes) # кодируем байты в строку Base64
</code></pre>
<ul>
<li>
<ol>
<li>Получение токена:</li>
</ol>
</li>
</ul>
<p><code>$Cred_Base64   = "N2U2ZDJmOWYtODI1ZS00OWI3LTk4ZjQtNjJmYmI3NTA2NDI3OmIyYzgwZmZmLTEzOGUtNDg1Mi05MjgwLWE2MGI4NTc0YTM2MQ=="</code> <br />
<code>$UUID = [System.Guid]::NewGuid()</code> генерируем UUID для журналирования входящих вызовов и разбора инцидентов</p>
<pre><code class="language-PowerShell">$url = &quot;https://ngw.devices.sberbank.ru:9443/api/v2/oauth&quot;
$headers = @{
    &quot;Authorization&quot; = &quot;Basic $Cred_Base64&quot;
    &quot;RqUID&quot; = &quot;$UUID&quot;
    &quot;Content-Type&quot; = &quot;application/x-www-form-urlencoded&quot;
}
$body = @{
    scope = &quot;GIGACHAT_API_PERS&quot;
}
$GIGA_TOKEN = $(Invoke-RestMethod -Uri $url -Method POST -Headers $headers -Body $body).access_token
</code></pre>
<ul>
<li>
<ol>
<li>Параметры:</li>
</ol>
</li>
</ul>
<pre><code class="language-PowerShell">[string]$content = &quot;Посчитай сумму чисел: 22+33&quot;
[string]$role = &quot;user&quot; # роль автора сообщения (user/assistant/system)
[float]$temperature = 0.7 # температура выборки в диапазоне от 0 до 2. Чем выше значение, тем более случайным будет ответ модели.
[float]$top_p = 0.1 # используется как альтернатива temperature и изменяется в диапазоне от 0 до 1. Задает вероятностную массу токенов, которые должна учитывать модель. Так, если передать значение 0.1, модель будет учитывать только токены, чья вероятностная масса входит в верхние 10%.
[int64]$n = 1 # количество вариантов ответов (1..4), которые нужно сгенерировать для каждого входного сообщения
[int64]$max_tokens = 512 # максимальное количество токенов, которые будут использованы для создания ответов
[boolean]$stream = $false # передавать сообщения по частям в потоке
</code></pre>
<ul>
<li>
<ol>
<li>Составление запросов:</li>
</ol>
</li>
</ul>
<pre><code class="language-PowerShell">$url = &quot;https://gigachat.devices.sberbank.ru/api/v1/chat/completions&quot;
$headers = @{
    &quot;Authorization&quot; = &quot;Bearer $GIGA_TOKEN&quot;
    &quot;Content-Type&quot; = &quot;application/json&quot;
}

$(Invoke-RestMethod -Uri &quot;https://gigachat.devices.sberbank.ru/api/v1/models&quot; -Headers $headers).data # список доступных моделей

$body = @{
    model = &quot;GigaChat:latest&quot;
    messages = @(
        @{
            role = $role
            content = $content
        }
    )
    temperature = $temperature
    n = $n
    max_tokens = $max_tokens
    stream = $stream
} | ConvertTo-Json
$Request = Invoke-RestMethod -Method POST -Uri $url -Headers $headers -Body $body
$Request.choices.message.content
</code></pre>
<h3 id="curl">Curl</h3>
<h3 id="ubuntu">Установка сертификатов в Ubuntu:</h3>
<p><code>wget https://gu-st.ru/content/lending/russian_trusted_root_ca_pem.crt</code> <br />
<code>wget https://gu-st.ru/content/lending/russian_trusted_sub_ca_pem.crt</code> <br />
<code>mkdir /usr/local/share/ca-certificates/russian_trusted</code> <br />
<code>cp russian_trusted_root_ca_pem.crt russian_trusted_sub_ca_pem.crt /usr/local/share/ca-certificates/russian_trusted</code> <br />
<code>update-ca-certificates -v</code> <br />
<code>wget -qS --spider --max-redirect=0 https://www.sberbank.ru</code></p>
<h3 id="_1">Получение токена:</h3>
<pre><code class="language-Bash">Cred_Base64=&quot;N2U2ZDJmOWYtODI1ZS00OWI3LTk4ZjQtNjJmYmI3NTA2NDI3OmIyYzgwZmZmLTEzOGUtNDg1Mi05MjgwLWE2MGI4NTc0YTM2MQ==&quot;
UUID=$(uuidgen)
GIGA_TOKEN=$(curl -s --location --request POST &quot;https://ngw.devices.sberbank.ru:9443/api/v2/oauth&quot; 
--header &quot;Authorization: Basic $Cred_Base64&quot; 
--header &quot;RqUID: $UUID&quot; 
--header &quot;Content-Type: application/x-www-form-urlencoded&quot; 
--data-urlencode 'scope=GIGACHAT_API_PERS' | jq -r .access_token)
</code></pre>
<p><code>curl -s --location "https://gigachat.devices.sberbank.ru/api/v1/models" --header "Authorization: Bearer $GIGA_TOKEN" | jq .</code> для проверки</p>
<h3 id="_2">Составление запроса:</h3>
<pre><code class="language-Bash">request=$(curl -s https://gigachat.devices.sberbank.ru/api/v1/chat/completions 
  -H &quot;Content-Type: application/json&quot; 
  -H &quot;Authorization: Bearer $GIGA_TOKEN&quot; 
  -d '{
  &quot;model&quot;: &quot;GigaChat:latest&quot;,
  &quot;messages&quot;: [
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: &quot;Когда уже ИИ захватит этот мир?&quot;
        }
    ],
  &quot;temperature&quot;: 0.7
}')
echo $request | jq -r .choices[].message.content
</code></pre>
<h2 id="yandexgpt">YandexGPT</h2>
<h3 id="oauth-token">Получить OAuth-Token:</h3>
<p><a href="https://cloud.yandex.ru/ru/docs/iam/operations/iam-token/create">Create AIM Token</a> время жизни IAM-токена не больше 12 часов <br />
<code>yandexPassportOauthToken="y0_AgAAAAAGaLFLAATuwQAAAAD3xtRLQE4hvlazQ5euKO43XXXXXXXXXXX"</code> для bash <br />
<code>$yandexPassportOauthToken = "y0_AgAAAAAGaLFLAATuwQAAAAD3xtRLQE4hvlazQ5euKO43XXXXXXXXXXX"</code> для PowerShell</p>
<h3 id="oauth-token-iam-token">Обменять OAuth-Token на IAM-Token:</h3>
<p><code>IAM_TOKEN=$(curl -s -d "{\"yandexPassportOauthToken\":\"$yandexPassportOauthToken\"}" "https://iam.api.cloud.yandex.net/iam/v1/tokens" | jq -r .iamToken)</code> <br />
<code>$IAM_TOKEN = $(Invoke-RestMethod -Method POST -Uri "https://iam.api.cloud.yandex.net/iam/v1/tokens" -Body $(@{yandexPassportOauthToken = "$yandexPassportOauthToken"} | ConvertTo-Json -Compress)).iamToken</code></p>
<h3 id="folder_id">Получить FOLDER_ID:</h3>
<pre><code class="language-Bash">CLOUD_ID=$(curl -s -H &quot;Authorization: Bearer $IAM_TOKEN&quot; https://resource-manager.api.cloud.yandex.net/resource-manager/v1/clouds | jq -r .clouds[].id) # получить cloud id
curl -s --request GET -H &quot;Authorization: Bearer $IAM_TOKEN&quot; https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders -d &quot;{\&quot;cloudId\&quot;: \&quot;$CLOUD_ID\&quot;}&quot; # получить список директорий в облаке
curl -s --request POST -H &quot;Authorization: Bearer $IAM_TOKEN&quot; https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders -d &quot;{\&quot;cloudId\&quot;: \&quot;$CLOUD_ID\&quot;, \&quot;name\&quot;: \&quot;test\&quot;}&quot; # создать директорию в облаке
FOLDER_ID=$(curl -s --request GET -H &quot;Authorization: Bearer $IAM_TOKEN&quot; https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders -d '{&quot;cloudId&quot;: &quot;b1gf9n6heihqj0pt5piu&quot;}' | jq -r '.folders[] | select(.name == &quot;test&quot;) | .id') # забрать id директории
</code></pre>
<pre><code class="language-PowerShell">$CLOUD_ID = $(Invoke-RestMethod -Method Get -Uri &quot;https://resource-manager.api.cloud.yandex.net/resource-manager/v1/clouds&quot; -Headers @{&quot;Authorization&quot;=&quot;Bearer $IAM_TOKEN&quot;; &quot;Content-Type&quot;=&quot;application/json&quot;}).clouds.id
$FOLDER_ID = $(Invoke-RestMethod -Method Get -Uri &quot;https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders&quot; -Headers @{&quot;Authorization&quot;=&quot;Bearer $IAM_TOKEN&quot;; &quot;Content-Type&quot;=&quot;application/json&quot;} -Body (@{&quot;cloudId&quot;= $CLOUD_ID} | ConvertTo-Json)).folders | Where-Object name -eq test | Select-Object -ExpandProperty id
</code></pre>
<h3 id="_3">Составление запроса:</h3>
<pre><code class="language-Bash">model=&quot;gpt://$FOLDER_ID/yandexgpt/latest&quot; # https://cloud.yandex.ru/ru/docs/yandexgpt/concepts/models
body=$(cat &lt;&lt;EOF
{
  &quot;modelUri&quot;: &quot;$model&quot;,
  &quot;completionOptions&quot;: {
    &quot;stream&quot;: false,
    &quot;temperature&quot;: 0.6,
    &quot;maxTokens&quot;: 2000
  },
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;text&quot;: &quot;Посчитай сумму 22+33&quot;
    }
  ]
}
EOF)
curl --request POST 
  -H &quot;Content-Type: application/json&quot; 
  -H &quot;Authorization: Bearer $IAM_TOKEN&quot; 
  -H &quot;x-folder-id: $FOLDER_ID&quot; 
  -d &quot;$body&quot; 
  &quot;https://llm.api.cloud.yandex.net/foundationModels/v1/completion&quot;
</code></pre>
<pre><code class="language-PowerShell">$model = &quot;gpt://$FOLDER_ID/yandexgpt/latest&quot;
$body = @&quot;
{
  &quot;modelUri&quot;: &quot;$model&quot;,
  &quot;completionOptions&quot;: {
    &quot;stream&quot;: false,
    &quot;temperature&quot;: 0.6,
    &quot;maxTokens&quot;: 2000
  },
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;text&quot;: &quot;Посчитай сумму 22+33&quot;
    }
  ]
}
&quot;@
Invoke-RestMethod -Method POST -Uri &quot;https://llm.api.cloud.yandex.net/foundationModels/v1/completion&quot; -Headers @{&quot;Content-Type&quot;=&quot;application/json&quot;; &quot;Authorization&quot;=&quot;Bearer $IAM_TOKEN&quot;; &quot;x-folder-id&quot;=&quot;$FOLDER_ID&quot;} -Body $body
</code></pre>
<h2 id="superagi">SuperAGI</h2>
<p><a href="https://github.com/TransformerOptimus/SuperAGI">Source</a> <br />
<a href="https://models.superagi.com/playground/generate">Playground generate</a> <br />
<a href="https://documenter.getpostman.com/view/30119783/2s9YR3cFJG">API Doc (exaples)</a></p>
<pre><code class="language-Bash">SUPERAGI_API_KEY=&quot;31f72164129XXXXX&quot;
prompt=&quot;посчитай сумму 22+33, дай только ответ без лишнего текста&quot;
request=$(curl -s -X POST 'https://api.superagi.com/v1/generate/65437cbf227a4018516ad1ce' 
-H 'Content-Type: application/json' 
-H &quot;Authorization: Bearer $SUPERAGI_API_KEY&quot; 
-d '{
  &quot;prompt&quot;: [&quot;$prompt&quot;],
  &quot;max_tokens&quot;: 500,
  &quot;temperature&quot;: 0.9,
  &quot;top_p&quot;: 0.15,
  &quot;repetition_penalty&quot;: 0,
  &quot;best_of&quot;: 1.05,
  &quot;top_k&quot;: 50,
  &quot;stream&quot;: false
}')
echo $request | sed &quot;s/data: //&quot; | jq -r .choices[].text
</code></pre>
<pre><code class="language-PowerShell">$SUPERAGI_API_KEY = &quot;31f72164129XXXXX&quot;
$prompt = &quot;посчитай сумму 22+33, дай только ответ без лишнего текста&quot;
$request = Invoke-RestMethod -Method Post -Uri 'https://api.superagi.com/v1/generate/65437cbf227a4018516ad1ce' -Headers @{
    'Content-Type' = 'application/json'
    'Authorization' = &quot;Bearer $SUPERAGI_API_KEY&quot;
} -Body (@{
    prompt = @($prompt)
    max_tokens = 500
    temperature = 0.9
    top_p = 0.15
    repetition_penalty = 0
    best_of = 1.05
    top_k = 50
    stream = $false
} | ConvertTo-Json)
$($request -replace &quot;^data: &quot; | ConvertFrom-Json).choices.text
</code></pre>
<h2 id="replicate">Replicate</h2>
<p><a href="https://replicate.com/stability-ai/stable-diffusion/examples?input=http">API curl examples</a></p>
<pre><code class="language-Bash">REPLICATE_API_TOKEN=&quot;r8_STyeUNXiGonkLfxE1FSKaqll26lXXXXXXXXXX&quot;
prompt=&quot;Жираф в полоску зебры&quot;
request=$(curl -s -X POST 
  -H &quot;Authorization: Token $REPLICATE_API_TOKEN&quot; 
  -H &quot;Content-Type: application/json&quot; 
  -d $'{
    &quot;version&quot;: &quot;ac732df83cea7fff18b8472768c88ad041fa750ff7682a21affe81863cbe77e4&quot;,
    &quot;input&quot;: {
      &quot;prompt&quot;: &quot;$prompt&quot;
    }
  }' 
  https://api.replicate.com/v1/predictions)
request_url=$(echo $request | jq -r .urls.get)
response_status=$(curl -s -H &quot;Authorization: Token $REPLICATE_API_TOKEN&quot; $request_url | jq -r .status)
while [[ $response_status != succeeded ]]; do
    response_status=$(curl -s -H &quot;Authorization: Token $REPLICATE_API_TOKEN&quot; $request_url | jq -r .status)
done
curl -s -H &quot;Authorization: Token $REPLICATE_API_TOKEN&quot; $request_url | jq -r .output[]
</code></pre>
<pre><code class="language-PowerShell">$REPLICATE_API_TOKEN = &quot;r8_STyeUNXiGonkLfxE1FSKaqll26lXXXXXXXXXX&quot;
$prompt = &quot;Жираф в полоску зебры&quot;
$body = @{
   version = &quot;ac732df83cea7fff18b8472768c88ad041fa750ff7682a21affe81863cbe77e4&quot;
   input = @{
       prompt = $prompt
   }
} | ConvertTo-Json
$headers = @{
   &quot;Authorization&quot; = &quot;Token $REPLICATE_API_TOKEN&quot;
   &quot;Content-Type&quot; = &quot;application/json&quot;
}
$request = Invoke-RestMethod -Uri &quot;https://api.replicate.com/v1/predictions&quot; -Method POST -Body $body -Headers $headers
$response = Invoke-RestMethod $($request.urls.get) -Headers @{&quot;Authorization&quot; = &quot;Token $REPLICATE_API_TOKEN&quot;}
while ($response.status -ne &quot;succeeded&quot;) {
    $response = Invoke-RestMethod $($request.urls.get) -Headers @{&quot;Authorization&quot; = &quot;Token $REPLICATE_API_TOKEN&quot;}
}
$response.output
</code></pre>
<h2 id="google-filter">Google-Filter</h2>
<p><code>https://www.google.com/search?q=the+rookie+2018+imdb</code> формат url-запроса поиска с пробелами <br />
<code>https://www.google.com/search?q=the+rookie+2018+site:imdb.com</code> поиск по сайту <br />
<code>https://www.google.com/search?q=the+rookie+intitle:index.of+"last modified"+(mkv|avi)</code> искать страницы, на которых указано "last modified" (последние изменения), заголовок страницы через расширенный оператор поиска (все перечисленные слова должны встречаться в заголовке) содержит слово "index.of" (указывает на директорию на веб-сервере, которая содержит список файлов) и искать файлы с расширениями .mkv или (|) .avi <br />
<code>https://www.google.com/search?q=the+rookie+2018+filetype:torrent</code> <br />
<code>инструкция gopro hero 11 filetype:pdf</code> искать сразу документ (на странице .pdf или загрузка) <br />
<code>"действия/глаголы, утвержденные для использования в командлетах"</code> искать по фразе целиком, без разбиения на отдельные слова <br />
<code>"ягуар скорость -животное -xe -xj"</code> узнаем скорость Ягуара, исключаем животное и модели автомобиля <br />
<code>"intitle:лучшие фильмы 2023"</code> запрос ищет страницы, заголовки (title HTML документа) которых содержат слова "лучшие", "фильмы" и "2023" (все слова должны быть в заголовке) <br />
<code>"allintitle:лучшие фильмы 2023"</code> запрос ищет страницы, заголовки (title HTML документа) которых содержат слова "лучшие", "фильмы" или "2023" (одно из) <br />
<code>"intext:telegram бот powershell"</code> поиск страниц, содержащих указанное ключевое слово в тексте страницы (а не только в заголовке) <br />
<code>"inurl:lifailon"</code> поиск страниц, в URL которых содержится указанное ключевое слово <br />
<code>intitle:index.of "game of thrones" mkv daterange:2010..2015</code> фильтрация по дате изменения, оператор позволяет задать диапазон дат в формате YYYYMMDD..YYYYMMDD <br />
<code>intitle:index.of "game of thrones" mkv after:2015</code> ограничить результаты поиска файлов, измененных до (before) или после (after) указанной даты <br />
<code>intitle:index.of "game of thrones" mkv from:2010 to:2015</code> фильтрация по диапазону дат <br />
<code>https://www.google.com/search?q=the-rookie-2018+site:imdb.com&amp;btnI</code> редирект на первый url</p>
<h2 id="google-api">Google-API</h2>
<h3 id="google-translate">Google-Translate</h3>
<pre><code class="language-PowerShell">$Key = &quot;&lt;TOKEN_API&gt;&quot; # получить токен: https://console.cloud.google.com/apis/credentials
$Text = &quot;You can see in the right corner how long each translation request takes (this does not depend on the amount of text being transferred).&quot;
$LanguageTarget = &quot;RU&quot;
$LanguageSource = &quot;EN&quot;
$url = &quot;https://translation.googleapis.com/language/translate/v2?key=$key&quot;
$Header = @{
    &quot;Content-Type&quot; = &quot;application/json&quot;
}
$Body = @{
    &quot;q&quot; = &quot;$Text&quot;
    &quot;target&quot; = &quot;$LanguageTarget&quot;
    &quot;source&quot; = &quot;$LanguageSource&quot;
} | ConvertTo-Json
$WebClient = New-Object System.Net.WebClient
foreach ($key in $Header.Keys) {
    $WebClient.Headers.Add($key, $Header[$key])
}
$Response = $WebClient.UploadString($url, &quot;POST&quot;, $Body) | ConvertFrom-Json
$Response.data.translations.translatedText
</code></pre>
<h3 id="google-search">Google-Search</h3>
<pre><code class="language-PowerShell">$Key = &quot;&lt;TOKEN_API&gt;&quot; # получить токен: https://developers.google.com/custom-search/v1/overview?hl=ru (пользовательский поиск JSON API предоставляет 100 поисковых запросов в день бесплатно)
$cx = &quot;35c78340f49eb474a&quot; # создать поисковую систему https://programmablesearchengine.google.com/controlpanel/all
$Query = &quot;как создать бота discord&quot;
$Lang = &quot;ru&quot;
$Num = 10
$Start = 0
$response = Invoke-RestMethod &quot;https://www.googleapis.com/customsearch/v1?q=$Query&amp;key=$Key&amp;cx=$cx&amp;lr=lang_$Lang&amp;num=$Num&amp;$start=$Start&quot;
$response.items | Select-Object title,snippet,displayLink,link | Format-List
</code></pre>
<h2 id="rapidapi">RapidAPI</h2>
<p><a href="https://rapidapi.com/ru/neoscrap-net/api/google-search72">Google-Search72</a></p>
<pre><code class="language-PowerShell">$Key = &quot;&lt;TOKEN_API&gt;&quot;
$headers=@{}
$headers.Add(&quot;X-RapidAPI-Key&quot;, &quot;$Key&quot;)
$headers.Add(&quot;X-RapidAPI-Host&quot;, &quot;google-search72.p.rapidapi.com&quot;)
$query = &quot;как создать бота discord&quot;
$response = Invoke-RestMethod &quot;https://google-search72.p.rapidapi.com/search?q=$query%20gitgub&amp;gl=us&amp;lr=lang_ru&amp;num=20&amp;start=0&quot; -Method GET -Headers $headers
$response.items | Select-Object title,snippet,displayLink,link | Format-List
</code></pre>
<h3 id="imdb">IMDb</h3>
<p><a href="https://rapidapi.com/apidojo/api/imdb8">IMDb8</a></p>
<pre><code class="language-PowerShell">$key = &quot;&lt;TOKEN_API&gt;&quot; # 500 запросов в месяц
$query=&quot;Break&quot;
$headers=@{}
$headers.Add(&quot;X-RapidAPI-Key&quot;, &quot;$key&quot;)
$headers.Add(&quot;X-RapidAPI-Host&quot;, &quot;imdb8.p.rapidapi.com&quot;)
$response = Invoke-RestMethod &quot;https://imdb8.p.rapidapi.com/title/find?q=$query&quot; -Method GET -Headers $headers
$response.results | select title,titletype,year,runningTimeInMinutes,id | Format-Table
&quot;https://www.imdb.com$($response.results.id[0])&quot;
$response.results.principals # актеры
$response.results.image
</code></pre>
<h3 id="moviesdatabase">MoviesDatabase</h3>
<p><a href="https://rapidapi.com/SAdrian/api/moviesdatabase">MoviesDatabase</a></p>
<pre><code class="language-PowerShell">$key = &quot;&lt;TOKEN_API&gt;&quot;
$imdb_id = &quot;tt0455275&quot;
$headers=@{}
$headers.Add(&quot;X-RapidAPI-Key&quot;, &quot;$key&quot;)
$headers.Add(&quot;X-RapidAPI-Host&quot;, &quot;moviesdatabase.p.rapidapi.com&quot;)
$response = Invoke-RestMethod &quot;https://moviesdatabase.p.rapidapi.com/titles/$imdb_id&quot; -Method GET -Headers $headers
$response.results
</code></pre>
<h2 id="tmdb">TMDB</h2>
<p><a href="https://developer.themoviedb.org/reference/intro/getting-started">Developer TMDB</a></p>
<pre><code class="language-PowerShell">$TOKEN = &quot;548e444e7812575caa0a7eXXXXXXXXXX&quot;
$Endpoint = &quot;search/tv&quot; # поиск сериала (tv) и фильма (movie) по названию
$Query = &quot;зимородок&quot;
$url = $(&quot;https://api.themoviedb.org/3/$Endpoint&quot;+&quot;?api_key=$TOKEN&amp;query=$Query&quot;)
$(Invoke-RestMethod -Uri $url -Method Get).results
$id = $(Invoke-RestMethod -Uri $url -Method Get).results.id # забрать id сериала (210865) https://www.themoviedb.org/tv/210865

$Endpoint = &quot;tv/$id&quot; # получение информации о сериале по его ID
$url = $(&quot;https://api.themoviedb.org/3/$Endpoint&quot;+&quot;?api_key=$TOKEN&quot;)
$(Invoke-RestMethod -Uri $url -Method Get) # список сезонов (.seasons), количество эпизодов (.seasons.episode_count)

(Invoke-RestMethod -Uri &quot;https://api.themoviedb.org/3/tv/$id/season/2?api_key=$Token&quot; -Method Get).episodes # вывести 2 сезон
Invoke-RestMethod -Uri &quot;https://api.themoviedb.org/3/tv/$id/season/2/episode/8?api_key=$Token&quot; -Method Get # вывести 8 эпизод
</code></pre>
<h2 id="omdb">OMDb</h2>
<p>Получение API ключа по <a href="https://www.omdbapi.com">email</a></p>
<p><code>$API_KEY = "XXXXXXXX"</code> <br />
<code>$IMDb_ID = "tt7587890"</code> <br />
<code>curl -s "https://omdbapi.com/?apikey=$($API_KEY)&amp;i=$($IMDb_ID)" | jq .</code> <br />
<code>curl -s "https://omdbapi.com/?apikey=$($API_KEY)&amp;i=$($IMDb_ID)" | ConvertFrom-Json</code> <br />
<code>Invoke-RestMethod "https://omdbapi.com/?apikey=$($API_KEY)&amp;s=The Rookie"</code> <br />
<code>Invoke-RestMethod "https://omdbapi.com/?apikey=$($API_KEY)&amp;t=The Rookie"</code> поиск по Title <br />
<code>Invoke-RestMethod "https://omdbapi.com/?apikey=$($API_KEY)&amp;t=The Rookie&amp;y=1990"</code> поиск по Title и году выхода <br />
<code>Invoke-RestMethod "https://omdbapi.com/?apikey=$($API_KEY)&amp;t=The Rookie&amp;type=movie"</code> поиск только фильма (movie) или сериала (series) <br />
<code>$(Invoke-RestMethod "https://omdbapi.com/?apikey=$($API_KEY)&amp;s=The Rookie").Search</code> поиск всех совпадений (фильмы и сериалы)</p>
<h2 id="ivi">ivi</h2>
<p><a href="https://ask.ivi.ru/knowledge-bases/10/articles/51697-dokumentatsiya-dlya-api-ivi">ivi api doc</a></p>
<p><code>Invoke-RestMethod https://api.ivi.ru/mobileapi/categories</code> список категорий и жанров (genres/meta_genres) <br />
<code>Invoke-RestMethod https://api.ivi.ru/mobileapi/collections</code> подборки</p>
<p><code>(Invoke-RestMethod "https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok").result.seasons.number</code> кол-во сезонов <br />
<code>(Invoke-RestMethod "https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok").result.seasons[1].episode_count</code> кол-во серий во втором сезоне <br />
<code>(Invoke-RestMethod "https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok").result.seasons[1].ivi_release_info.date_interval_min</code> дата выхода следующей серии <br />
<code>(Invoke-RestMethod "https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok").result.kp_rating</code> рейтинг в Кинопоиск (8.04)</p>
<p><code>$id = (Invoke-RestMethod "https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok").result.kp_id</code> получить id в Кинопоиск (5106881) <br />
<code>id=$(curl -s https://api.ivi.ru/mobileapi/search/v7/?query=zimorodok | jq .result[].kp_id)</code> получить id в Кинопоиск</p>
<h2 id="kinopoisk">Kinopoisk</h2>
<pre><code class="language-Bash">id=5106881
get=$(curl -s https://www.kinopoisk.ru/film/$id/episodes/)
printf &quot;%s\n&quot; &quot;${get[@]}&quot; | grep -A 1 &quot;Сезон 2&quot; | grep &quot;эпизодов&quot; | sed -r &quot;s/^.+\: //&quot; # количество эпиздовод во втором сезоне
</code></pre>
<h3 id="kinopoiskdev">kinopoisk.dev</h3>
<p><a href="https://t.me/kinopoiskdev_bot">Получить токен</a> <br />
<a href="https://kinopoisk.dev/documentation">Документация по API в формате OpenAPI</a></p>
<p><code>GET /v1.4/movie/{id}</code> поиск по id</p>
<pre><code class="language-PowerShell">$id = 5106881
$API_KEY = &quot;ZYMNJJA-0J8MNPN-PB4N7R7-XXXXXXX&quot;

$Header = @{
    &quot;accept&quot; = &quot;application/json&quot;
    &quot;X-API-KEY&quot; = &quot;$API_KEY&quot;
}
$irm = Invoke-RestMethod &quot;https://api.kinopoisk.dev/v1.4/movie/$id&quot; -Method GET -Headers $Header
$irm.rating.kp # рейтинг в Кинопоиск (8,079)
$irm.seasonsInfo # количество сезонов и эпизодов в них
</code></pre>
<pre><code class="language-Bash">id=5106881
API_KEY=&quot;ZYMNJJA-0J8MNPN-PB4N7R7-XXXXXXX&quot;
get=$(curl -s -X GET 
  &quot;https://api.kinopoisk.dev/v1.4/movie/$id&quot; 
  -H &quot;accept: application/json&quot; 
  -H &quot;X-API-KEY: $API_KEY&quot;)
echo $get | jq .rating.kp # рейтинг в Кинопоиск (8,079)
echo $get | jq .seasonsInfo[1].episodesCount # количество эпизодов во втором [1] сезоне (6)
</code></pre>
<p><code>GET /v1.4/movie/search</code></p>
<pre><code class="language-Bash">query=&quot;zimorodok&quot;
page=1 # кол-во страниц для выборки
limit=1 # кол-во элементов на странице
curl -s -X GET 
  &quot;https://api.kinopoisk.dev/v1.4/movie/search?page=$page&amp;limit=$limit&amp;query=$query&quot; 
  -H &quot;accept: application/json&quot; 
  -H &quot;X-API-KEY: $API_KEY&quot; | jq .

limit=5
request=$(curl -s -X GET 
  &quot;https://api.kinopoisk.dev/v1.4/movie/search?page=$page&amp;limit=$limit&amp;query=%D0%B7%D0%B8%D0%BC%D0%BE%D1%80%D0%BE%D0%B4%D0%BE%D0%BA&quot; 
  -H &quot;accept: application/json&quot; 
  -H &quot;X-API-KEY: $API_KEY&quot; | jq .)
echo $request | jq '.docs[] | select(.year == 2022)' # отфильтровать вывод по году выхода
</code></pre>
<pre><code class="language-PowerShell">$API_KEY = &quot;ZYMNJJA-0J8MNPN-PB4N7R7-XXXXXXX&quot;
$page = 1
$limit = 5
$query = &quot;%D0%B7%D0%B8%D0%BC%D0%BE%D1%80%D0%BE%D0%B4%D0%BE%D0%BA&quot;
$request = Invoke-RestMethod -Uri &quot;https://api.kinopoisk.dev/v1.4/movie/search?page=$page&amp;limit=$limit&amp;query=$query&quot; -Headers @{&quot;accept&quot;=&quot;application/json&quot;; &quot;X-API-KEY&quot;=&quot;$API_KEY&quot;}
$request.docs | Where-Object year -eq 2022
</code></pre>
<h3 id="urlcode">UrlCode</h3>
<pre><code class="language-PowerShell">function Get-PercentEncode ($str) {
   $bytes = [System.Text.Encoding]::UTF8.GetBytes($str)
   ($bytes | ForEach-Object { &quot;{0:X2}&quot; -f $_ }) -join '%' -replace &quot;^&quot;,&quot;%&quot;
}
Get-PercentEncode &quot;зимородок&quot;
</code></pre>
<pre><code class="language-PowerShell">function Get-UrlEncode($str) {
   [System.Web.HttpUtility]::UrlEncode($str)
}
UrlEncode &quot;зимородок&quot;
</code></pre>
<pre><code class="language-Bash">percent-encode() {
    str=$1
    echo -n &quot;$1&quot; | iconv -t utf8 | od -An -tx1 | tr ' ' % | tr -d '\n'
}
percent-encode &quot;зимородок&quot;
</code></pre>
<pre><code class="language-PowerShell">function Get-UrlDecode($encoded) {
    [System.Uri]::UnescapeDataString($encoded)
}
Get-UrlDecode &quot;%D0%B7%D0%B8%D0%BC%D0%BE%D1%80%D0%BE%D0%B4%D0%BE%D0%BA&quot;
</code></pre>
<pre><code class="language-Bash">percent-decode() {
    encoded=$1
    local url_encoded=&quot;${1//+/ }&quot;
    printf '%b' &quot;${url_encoded//%/\\x}&quot;
}
percent-decode &quot;%D0%B7%D0%B8%D0%BC%D0%BE%D1%80%D0%BE%D0%B4%D0%BE%D0%BA&quot;
</code></pre>
<h3 id="kinopoiskapiunofficial">KinopoiskApiUnofficial</h3>
<p>Бесплатно 500 запросов в сутки. <a href="https://kinopoiskapiunofficial.tech/documentation/api">Swagger documentation</a></p>
<pre><code class="language-PowerShell">API_KEY=&quot;828ec96a-f45d-4e3d-84b1-XXXXXXXXXXXX&quot;
$headers = @{
    &quot;accept&quot; = &quot;application/json&quot;
    &quot;X-API-KEY&quot; = &quot;$API_KEY&quot;
}
Invoke-RestMethod -Uri 'https://kinopoiskapiunofficial.tech/api/v2.2/films/1142153' -Headers $headers
</code></pre>
<p><code>curl -s "https://kinopoiskapiunofficial.tech/api/v2.2/films/1142153" -H "accept: application/json" -H "X-API-KEY: $API_KEY" | jq .</code></p>
<h3 id="kinobox">Kinobox</h3>
<p><code>$url = "https://www.kinopoisk.ru/film/694051"</code> <br />
<code>$kp_id = $url -replace ".+/"</code> <br />
<code>https://kinomix.web.app/#694051</code> <br />
<code>curl -s -X GET "https://kinobox.tv/api/players/main?kinopoisk=$kp_id" -H "accept: application/json"</code> поиск по id Кинопоиск <br />
<code>curl -s -X GET "https://kinobox.tv/api/players/main?imdb=tt2293640" -H "accept: application/json"</code> поиск по id IMDb <br />
<code>curl -s -X GET "https://kinobox.tv/api/players/main?title=minions" -H "accept: application/json"</code> поиск основных плееров по названию <br />
<code>curl -s -X GET "https://kinobox.tv/api/players/all?title=minions" -H "accept: application/json"</code> поиск всех плееров <br />
<code>curl -s -X GET "https://kinobox.tv/api/popular/films" -H "accept: application/json"</code> популярные фильмы <br />
<code>curl -s -X GET "https://kinobox.tv/api/popular/series" -H "accept: application/json"</code> популярные сериалы</p>
<h2 id="videocdn">VideoCDN</h2>
<p><a href="https://github.com/notssh/videocdn-api">API</a> <br />
<a href="https://github.com/API-Movies/videocdn">Source</a> <br />
<a href="https://api-movies.github.io/videocdn/index.json">API JSON</a></p>
<pre><code class="language-PowerShell">$kp_id = 5106881
$token = &quot;YfTWH2p3Mai7ziqDoGjS3yXXXXXXXXXX&quot;
$ep = &quot;tv-series&quot;
$(Invoke-RestMethod $(&quot;https://videocdn.tv/api/$ep&quot;+&quot;?api_token=$token&amp;field=kinopoisk_id&amp;query=$kp_id&quot;)).data.episodes | Where-Object season_num -eq 2 | Select-Object @{Name=&quot;Episode&quot;; Expression={$_.num}}, @{Name=&quot;Voice&quot;; Expression={$_.media.translation.title}} # отфильтровать серии по второму сезону и отобразить все озвучки к сериям
</code></pre>
<pre><code class="language-Bash">kp_id=5106881
token=&quot;YfTWH2p3Mai7ziqDoGjS3yXXXXXXXXXX&quot;
ep=&quot;tv-series&quot;
curl -s &quot;https://videocdn.tv/api/$ep?api_token=$token&amp;field=kinopoisk_id&amp;query=$kp_id&quot; | jq &quot;.data[].episodes | length&quot; # количество серий
curl -s &quot;https://videocdn.tv/api/$ep?api_token=$token&amp;field=kinopoisk_id&amp;query=$kp_id&quot; | jq &quot;.data[].episodes[] | select(.season_num == 2) | {episode: .ru_title, voice: .media[].translation.title}&quot; # отфильтровать параметры вывода
</code></pre>
<h2 id="torrent">Torrent</h2>
<h3 id="jackett">Jackett</h3>
<p><a href="https://github.com/Jackett/Jackett">Source</a></p>
<p><code>mkdir /jackett</code><br />
<code>docker-compose.yml</code></p>
<pre><code class="language-yaml">---
services:
  jackett:
    image: lscr.io/linuxserver/jackett:latest
    container_name: jackett
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
    volumes:
      - /jackett/data:/config
      - /jackett/blackhole:/downloads
    ports:
      - 9117:9117
    restart: unless-stopped
</code></pre>
<p><code>docker-compose up -d jackett</code><br />
<code>docker exec -it jackett /bin/bash</code> доступ к оболочке во время работы контейнера<br />
<code>docker logs -f jackett</code> мониторинг журналов контейнера</p>
<p><code>/jackett/data/Jackett/ServerConfig.json</code> место хранения конфигурации сервера<br />
<code>/jackett/data/Jackett/Indexers/*.json</code> место хранения конфигурации индексаторов</p>
<p><code>$API_KEY = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</code><br />
<code>Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/rutor/results/torznab/api?apikey=$API_KEY"</code> Прочитать RSS ленту RuTor<br />
<code>$query = "the+rookie"</code><br />
<code>Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/rutor/results/torznab/api?apikey=$API_KEY&amp;t=search&amp;cat=&amp;q=$query"</code> поиск в RuTor<br />
<code>Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/kinozal/results/torznab/api?apikey=$API_KEY&amp;t=search&amp;q=$query"</code> поиск в кинозал<br />
<code>Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/kinozal/results/torznab/api?apikey=$API_KEY&amp;t=search&amp;q=$query&amp;cat=5000"</code> отфильтровать вывод по сериалам (Capabilities: 5000)<br />
<code>Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/all/results/torznab/api?apikey=$API_KEY&amp;t=search&amp;q=riverdale"</code> поиск во всех индексаторах<br />
<code>$(Invoke-RestMethod "http://127.0.0.1:9117/api/v2.0/indexers/all/results/torznab/api?apikey=$API_KEY&amp;t=indexers&amp;configured=true").indexers.indexer</code> cписок всех настроенных индексаторов (трекеров)</p>
<h3 id="torrent-api-py">Torrent-API-py</h3>
<p><a href="https://github.com/Ryuk-me/Torrent-Api-py">Source</a><br />
<a href="https://torrent-api-py-nx0x.onrender.com/docs#/default/health_route_health_get">Documentation</a></p>
<pre><code>git clone https://github.com/Ryuk-me/Torrent-Api-py
cd Torrent-Api-py
pip install virtualenv
py -3 -m venv api-py
# Активировать виртуальную среду для Windows
.\api-py\Scripts\activate
# Активировать виртуальную среду для Linux
# $ source api-py/bin/activate
# Установить зависимости и запустить
pip install -r requirements.txt
python main.py
# Proxy: https://github.com/dperson/torproxy
# export HTTP_PROXY=&quot;http://proxy-host:proxy-port&quot;
</code></pre>
<p><code>$srv = "http://localhost:8009"</code> local<br />
<code>$srv = "https://torrent-api-py-nx0x.onrender.com"</code> public<br />
<code>Invoke-RestMethod $srv/api/v1/sites</code> список доступных трекеров<br />
<code>Invoke-RestMethod "$srv/api/v1/search/?site=torlock&amp;query=the+rookie&amp;limit=0&amp;page=1"</code> поиск в выбранном трекере<br />
<code>Invoke-RestMethod "$srv/api/v1/all/search?query=the+rookie&amp;limit=0"</code> поиск по названию во всех трекерах</p>
<h3 id="plex">Plex</h3>
<p><code>$API_TOKEN = "XXXXXXXXXXXXXXXXXXXX"</code></p>
<pre><code>$headers = @{
    &quot;X-Plex-Token&quot; = $API_TOKEN
    &quot;accept&quot; = &quot;application/json&quot;
}
</code></pre>
<p><code>$(Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/servers).MediaContainer.Server</code> версия сервера<br />
<code>Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/diagnostics/logs -OutFile log.zip</code> выгруить лог с сервера<br />
<code>$(Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/library/sections).MediaContainer.Directory</code> список секций добавленных на сервер<br />
<code>$section_key = $(Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/library/sections).MediaContainer.Directory.key[0]</code><br />
<code>Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/library/sections/$section_key/refresh</code> синхронизация указанной секции в Plex по ключу<br />
<code>$(Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/library/sections/2/folder).MediaContainer.Metadata</code> получить список директорий и файлов в корне выбранной секции<br />
<code>$(Invoke-RestMethod -Headers $headers -Uri http://localhost:32400/library/sections/2/folder?parent=204).MediaContainer.Metadata</code> получить список всех файлов в указанной директории через ключ (MediaContainer.Metadata.key) конечной точки</p>
<h3 id="jellyfin">Jellyfin</h3>
<p><a href="https://github.com/jellyfin/jellyfin">Source</a><br />
<a href="https://api.jellyfin.org">API Docs</a></p>
<p><code>$API_TOKEN "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</code><br />
<code>Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} http://localhost:8096/Users</code> список пользователей и их id<br />
<code>$Users = Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} http://localhost:8096/Users</code><br />
<code>$UserId = $($Users | Where-Object Name -match "Lifailon").Id</code> забрать id пользователя<br />
<code>Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} http://localhost:8096/System/Info</code> информация о системе<br />
<code>$(Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} http://localhost:8096/Items).Items</code> список добавленных объектов директорий<br />
<code>$ItemId = $(Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} http://localhost:8096/Items).Items[-1].Id</code> забрать id директории<br />
<code>$Data = $(Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} "http://localhost:8096/Users/$UserId/Items?ParentId=$ItemId").Items</code> получить содержимое корневой директории по Id из Items<br />
<code>$TvId = $($data | Where-Object Name -match "Rookie").Id</code> найти сериал или фильм по имени и забрать его Id<br />
<code>$(Invoke-RestMethod -Headers @{"X-Emby-Token" = $API_TOKEN} "http://localhost:8096/Users/$UserId/Items?ParentId=$TvId").Items</code> получить содержимое дочерней директории по Id ее родительской директории</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2023-2024 Alex Kup (Lifailon)
    </div>
  
  
  PowerShell Commands on
  <a href="https://github.com/Lifailon/PS-Commands" target="_blank" rel="noopener">
    GitHub
  </a>
  | Theme
  <a href="https://github.com/squidfunk/mkdocs-material" target="_blank" rel="noopener">
    Material
  </a>
  for
  <a href="https://github.com/mkdocs/mkdocs" target="_blank" rel="noopener">
    MkDocs
  </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Lifailon/PS-Commands" target="_blank" rel="noopener" title="PS-Commands on Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
        <script src="../assets/highlight/highlight.min.js"></script>
      
        <script src="../assets/highlight/powershell.min.js"></script>
      
        <script src="../assets/highlight/init.js"></script>
      
    
  </body>
</html>